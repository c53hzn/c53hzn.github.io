__NUXT_JSONP__("/blog/nuxt-2021-limitations", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){return {data:[{blog:{slug:x,description:"升级Nuxt到最新版本之后，遇到了3个问题，这个新版本用起来有点不太顺手。",date:"2021-02-08T00:00:00.000Z",language:i,layout:"post",title:"2021年Nuxt新版本的一些限制",tags:[j,m],comments:g,related_blog:["2019-05-05-nuxt-blog-static-website","2020-04-19-editor-for-my-cms-of-my-nuxt-blog","2021-02-07-nuxt-blog-generate-files-n-push-to-another-repo"],toc:[{id:y,depth:n,text:z},{id:A,depth:n,text:B},{id:k,depth:n,text:k}],body:{type:"root",children:[{type:b,tag:o,props:{id:y},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%E5%8D%87%E7%BA%A7nuxt%E5%92%8C%E4%BD%BF%E7%94%A8content",tabIndex:r},children:[{type:b,tag:s,props:{className:[t,u]},children:[]}]},{type:a,value:z}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"为了试用 Nuxt 的新模块 "},{type:b,tag:c,props:{},children:[{type:a,value:h}]},{type:a,value:" ，我升级了 Nuxt 到最新版本，当然后来发现其实不用升级也能用这个模块，这是后话了。"}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"我把那些原本使用本机自建 api 获取内容的 "},{type:b,tag:c,props:{},children:[{type:a,value:"pages\u002F"}]},{type:a,value:" 的模板文件全都改成使用 "},{type:b,tag:c,props:{},children:[{type:a,value:h}]},{type:a,value:" 了，也终于把那些原本因为改起来太麻烦而保留的嵌套 3 层的回调改成了更一目了然的简洁写法。"}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:c,props:{},children:[{type:a,value:h}]},{type:a,value:" 不光可以解析 "},{type:b,tag:c,props:{},children:[{type:a,value:C}]},{type:a,value:" 的文件，还可以解析 "},{type:b,tag:c,props:{},children:[{type:a,value:".txt"}]},{type:a,value:" 、 "},{type:b,tag:c,props:{},children:[{type:a,value:".csv"}]},{type:a,value:" 和 "},{type:b,tag:c,props:{},children:[{type:a,value:".yml"}]},{type:a,value:" 等格式的文本文件，可以实现比我的 api 要更丰富的功能。"}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"对于 "},{type:b,tag:c,props:{},children:[{type:a,value:h}]},{type:a,value:" 我是非常满意的。"}]},{type:a,value:d},{type:b,tag:o,props:{id:A},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#nuxt%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E9%97%AE%E9%A2%98",tabIndex:r},children:[{type:b,tag:s,props:{className:[t,u]},children:[]}]},{type:a,value:B}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"虽然 "},{type:b,tag:c,props:{},children:[{type:a,value:h}]},{type:a,value:" 十分给力，但是新版本的 Nuxt 不是很给力，我发现有 3 个问题："}]},{type:a,value:d},{type:b,tag:"ol",props:{},children:[{type:a,value:d},{type:b,tag:v,props:{},children:[{type:a,value:"新版本会为静态页面的各个路径都生成 "},{type:b,tag:c,props:{},children:[{type:a,value:D}]},{type:a,value:"，用来为页面提供内容，但是 Nuxt 会对路径进行 url 编码，此时如果路径含有非英语字符，那么最后的页面将无法正确访问 "},{type:b,tag:c,props:{},children:[{type:a,value:D}]},{type:a,value:" 资源，因为访问路径需要再次进行 url 编码。 我在 GitHub 上提了 issue ，貌似被接受了，但是得等下次 release 才能用到了"}]},{type:a,value:d},{type:b,tag:v,props:{},children:[{type:a,value:"文章 "},{type:b,tag:c,props:{},children:[{type:a,value:"slug"}]},{type:a,value:" 或 "},{type:b,tag:c,props:{},children:[{type:a,value:"tag"}]},{type:a,value:" 如果是以 "},{type:b,tag:c,props:{},children:[{type:a,value:E}]},{type:a,value:" 结尾的，那么 Nuxt 就无法正常渲染，这个我也提了 issue ，结果 Nuxt 团队人员说有对这个做 fallback，让我改 "},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:" 的设置，然后关闭了我的 issue。我改了之后在开发模式下确实可以了，但是静态模式又不行了，不知道要不要再提一次 issue ，犹豫中。"}]},{type:a,value:d},{type:b,tag:v,props:{},children:[{type:a,value:"新版本内建了爬虫，这样就不需要在 "},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:" 里面为 "},{type:b,tag:c,props:{},children:[{type:a,value:"generate"}]},{type:a,value:" 列出所有动态生成的路径了。但是问题来了，爬虫没有爬取 "},{type:b,tag:c,props:{},children:[{type:a,value:E}]},{type:a,value:" 结尾的路径，导致有的页面无法生成，还需要我手动在 "},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:" 里面列出相关路径才行。还有就是如果我在一些页面里引用了不存在的路径，这个爬虫不会验证路径有效性，还是会尝试生成这个不存在的路径的页面。结果就是明明需要生成的，没有生成；明明不需要生成的，却去尝试生成了（当然最后会报错）。"}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:o,props:{id:k},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%E6%84%9F%E6%83%B3",tabIndex:r},children:[{type:b,tag:s,props:{className:[t,u]},children:[]}]},{type:a,value:k}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"网络应用框架的开发和迭代不可能一蹴而就，这个我很清楚，但是旧版本里没有的问题，新版本却反而出现了，这不得不让人感到有点失望。"}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"希望 Nuxt 以后能再发展壮大，让我这个非专业程序媛也能继续受益吧！"}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002F2021-02-08-nuxt-2021-limitations",extension:C,createdAt:F,updatedAt:F,readingTime:28800,prev:{slug:G,title:H},next:null,relatedBlog:[{slug:"nuxt-blog-static-website",description:"重构了一下博客，从Jekyll迁移到了Nuxt。方法是先用Node API 来解析 Markdown 文件，然后 Nuxt+Axios 获取 API 返回的文章内容并生成静态页面。",date:"2019-05-05T00:00:00.000Z",language:i,title:"如何使用Nuxt建立个人博客",tags:[I,J,K,m,"静态博客",j]},{slug:"editor-for-my-cms-of-my-nuxt-blog",description:"April CMS，一个兼具Headless CMS和Flat File CMS的特征的操作文本文件的基于API提供内容的CMS，很实用的一个项目哦~",date:"2020-04-19T00:00:00.000Z",language:i,title:"给Nuxt使用的基于API的CMS——还有管理后台呢",tags:[I,J,K,"jQuery",j]},{slug:G,description:"一直想尝试自动部署Nuxt博客，但由于一些限制，我无法把Nuxt生成的静态文件推送到其他代码仓库并发布，经过搜索和研究，这次终于用GitHub Actions推送并发布成功了。",date:"2021-02-07T00:00:00.000Z",language:i,title:H,tags:[j,"GitHub Actions",m]}]},mySlug:x,ui_zh:{to_prev:"上一篇",to_next:"下一篇",related_posts:"相关文章"},ui_en:{to_prev:"Previous",to_next:"Next",related_posts:"Related Posts"},etsy_item_list:[{src:"\u002Fimg\u002Fetsy\u002Fetsy08.jpg",title:"eBay template builder tool | listing item detail page description HTML generator | mobile responsive | no active content | instant download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F956233793",tag:e,feat:g},{src:"\u002Fimg\u002Fetsy\u002Fetsy01.jpg",title:"2021 to 2030 annual calendar | editable multi year selection excel template | three column | printable PDF xlsx instant download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F939749315",tag:e,feat:l},{src:"\u002Fimg\u002Fetsy\u002Fetsy02.jpg",title:"2021 weekly schedule planner | 10 types simple to-do list checklist calendar | printable PDF editable excel template instant download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F939707561",tag:e,feat:g},{src:"\u002Fimg\u002Fetsy\u002Fetsy03.jpg",title:"2021 monthly calendar weekly schedule planner | multi year multi color simple calendar | printable PDF with editable excel template download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F939397411",tag:e,feat:l},{src:"\u002Fimg\u002Fetsy\u002Fetsy04.jpg",title:"100 day challenge planner minimalist | simple calendar | goal progress tracker | schedule A4 printable PDF download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F925324268",tag:e,feat:g},{src:"\u002Fimg\u002Fetsy\u002Fetsy05.jpg",title:"2021 income expense track | annual monthly daily expenditure | bill spending tracker | personal financial statement | excel template",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F928907974",tag:e,feat:l},{src:"\u002Fimg\u002Fetsy\u002Fetsy06.jpg",title:"2021 monthly calendar planner | elegant water blue theme simple | A4 printable PDF instant digital download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F934477940",tag:e,feat:l},{src:"\u002Fimg\u002Fetsy\u002Fetsy07.jpg",title:"2021 Pocket Calendar 8 page foldable printable A7 size DIY zine style A4 paper PDF format instant download",link:"https:\u002F\u002Fwww.etsy.com\u002Flisting\u002F952862667",tag:e,feat:g}]}],fetch:[],mutations:[]}}("text","element","code","\n","Digital","p",true,"content","中文","技术","感想",false,"Nuxt.js",2,"h2","a","true",-1,"span","icon","icon-link","li","nuxt.config.js","nuxt-2021-limitations","升级nuxt和使用content","升级Nuxt和使用content","nuxt新版本的问题","Nuxt新版本的问题",".md","payload",".js","2021-02-07T18:13:06.258Z","nuxt-blog-generate-files-n-push-to-another-repo","如何使用Github Actions把Nuxt博客的静态文件push到其他repository","我的项目","JavaScript","Node.js")));