<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>如何用手机查看局域网内Express主机上的文件 | Jenny的小站</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="用电脑搭建Express服务器，然后手机直接看电脑上的文件和视频，好像挺有意思的？"><meta data-n-head="ssr" data-hid="keyword" name="keyword" content="中文, 技术, Node.js, Express.js"><link data-n-head="ssr" rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="/css/font-gugi.css"><link data-n-head="ssr" rel="stylesheet" href="/css/font-poppins.css"><link data-n-head="ssr" rel="stylesheet" href="/css/style.css?2020-04-12"><link data-n-head="ssr" rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><link data-n-head="ssr" rel="stylesheet" href="/css/github-markdown.min.css"><link data-n-head="ssr" rel="stylesheet" href="/css/hljs.dark.min.css"><link data-n-head="ssr" rel="stylesheet" href="https://hzn-website.000webhostapp.com/disqus/dist/iDisqus.min.css"><script data-n-head="ssr" src="/js/statcounter.js"></script><base href="/"><link rel="preload" href="/_nuxt/0109b093b32bbe681dcb.js" as="script"><link rel="preload" href="/_nuxt/8c2350c4dfed45e215a8.js" as="script"><link rel="preload" href="/_nuxt/c4b816bfcec5991a02bc.js" as="script"><link rel="preload" href="/_nuxt/7c82ebcda90129e59b83.js" as="script"><style data-vue-ssr-id="3191d5ad:0 72520070:0 f28bdea2:0">.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#3b8070;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}#amzn-assoc-ad-51e0e5d0-fdd4-49b3-8945-e3e2f60d21e2{box-shadow:0 0 1px 1px silver}div.amzn-native-product-asin-container:hover{box-shadow:inset 0 0 1px 1px silver}.markdown-body{margin-bottom:50px}.markdown-body img{max-height:100px}a[id]{position:relative;top:-40px;display:block}a#comment-link{top:0}.blog-desc{margin:10px;padding:10px;color:#666;background-color:rgba(0,0,0,.025)}.youtube-img{position:relative;display:inline-block}.youtube-img:before{width:40%;height:40%;border-radius:25%;background:rgba(0,0,0,.7);transition:background .2s}.youtube-img:after,.youtube-img:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.youtube-img:after{width:0;height:0;border-top:10px solid transparent;border-left:20px solid #fff;border-bottom:10px solid transparent}.youtube-img:hover:before{background:red}#disqus_thread{margin-top:20px}.prev-next{margin:20px auto;display:block}.prev-next:after{display:table;content:" ";clear:both}.prev-next a{display:inline}.next,.prev{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:20px auto;width:100%;color:grey;border:1px solid grey;cursor:pointer}.prev{width:48%;text-align:left;float:left}.next{width:48%;text-align:right;float:right}.next:hover,.prev:hover{color:#000;border-color:#000}.prev p{padding-left:16px}.next p,.prev p{margin:0;padding-top:16px;padding-bottom:16px}.next p{padding-right:16px}#comment{margin-top:40px}.blog-gallery{margin:20px auto;display:flex;justify-content:center;flex-wrap:wrap;overflow:hidden}.blog-gallery-unit{margin:40px 20px 0;width:46%;border:1px solid silver;border-radius:5px}.blog-gallery-unit:first-child,.blog-gallery-unit:nth-child(2){margin-top:20px}.blog-gallery-unit:nth-child(2n-1){margin-left:0}.blog-gallery-unit:nth-child(2n){margin-right:0}.blog-gallery-unit:hover{border-color:#000}.blog-gallery-inner{padding:21px 10px 10px;height:100%}.blog-gallery-inner h4{margin-top:0;max-height:42px;overflow:hidden}.blog-gallery-desc{line-height:21px;max-height:64px;display:block;overflow:hidden}.blog-gallery-tag{margin:1px;padding:0 8px;color:#fff;font-size:12px;font-family:Microsoft Yahei;line-height:20px;border-radius:999px;background:grey;display:inline-block}@media (max-width:425px){.blog-gallery-unit{margin:20px 0 0;width:100%}}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="container"><nav><div class="nav-wrap"><header><a href="/" class="no-decor-link"><p class="nav-home">Jenny's blog</p></a></header> <div class="nav-btn"><div class="bar"></div> <div class="bar"></div> <div class="bar"></div> <div class="bar"></div></div> <div class="nav-mask"></div> <div class="body-mask"></div> <ul class="nav-ul"><span title="Change navigation to English" class="nav-link" style="padding-left:10px">English</span> <a href="/" target="_self" class="nav-link"><li>首页<!----><!----></li></a><a href="/resume" target="_self" class="nav-link"><li>简历<!----><!----></li></a><a href="/portfolio" target="_self" class="nav-link"><li>作品集<!----><!----></li></a><a href="/blog" target="_self" class="nav-link nuxt-link-active"><li>博客<!----><!----></li></a><a href="https://wj.qq.com/s2/3731207/f0cd/" target="_blank" class="nav-link"><li>联系我<span> </span><i class="fa fa-external-link"></i></li></a></ul></div></nav> <main><div><section class="main-content"><h1 class="align-center article-title">如何用手机查看局域网内Express主机上的文件</h1> <p class="blog-date align-center"><span class="fa fa-calendar"> 2021-01-09</span></p> <p class="blog-tags align-center"><a href="/blog/tag/中文"><span class="blog-tag">中文</span></a><a href="/blog/tag/技术"><span class="blog-tag">技术</span></a><a href="/blog/tag/Node.js"><span class="blog-tag">Node.js</span></a><a href="/blog/tag/Express.js"><span class="blog-tag">Express.js</span></a></p> <div class="blog-desc">用电脑搭建Express服务器，然后手机直接看电脑上的文件和视频，好像挺有意思的？</div> <article class="markdown-body"><p></p><h3> </h3><ul><li><a href="blog/view-pc-files-from-mobile-via-express-server#_1">契机</a></li><li><a href="blog/view-pc-files-from-mobile-via-express-server#IP_13">查看本机内网IP</a></li><li><a href="blog/view-pc-files-from-mobile-via-express-server#Node_27">Node脚本</a></li><li><a href="blog/view-pc-files-from-mobile-via-express-server#_69">手机访问电脑文件</a></li></ul><p></p>
<h1><a id="_1"></a>契机</h1>
<p>我电脑上有些TXT小说文件和视频文件，虽然开着电脑的时候查看也不麻烦，但是大冬天的还是想裹着被子刷手机，如果能有办法手机直接在线访问电脑上的文件，而不需要进行繁复的文件转移过程，那该多好啊！</p>
<p>然后我想到可以在电脑上搭建Express服务器，然后允许访问静态文件，再用手机在线访问，不就可以了嘛！</p>
<p>平时搭建服务的时候都是直接电脑上访问，而即使连了同一个路由器，手机也无法直接访问localhost，于是搜了一下，发现需要在服务器上配置内网IP，好像也不难。</p>
<p>下一个问题来了，搭建Express服务器是简单，但是怎么才能直接显示文件夹内的文件目录呢？于是搜了下NPM，果然有这样的package！</p>
<p>我想到的问题前人都想到了，那就直接拿来用吧！</p>
<h1><a id="IP_13"></a>查看本机内网IP</h1>
<p>使用快捷键 <code>Windows + R</code>，打开【运行】，输入 <code>cmd</code> 并确定</p>
<p><img src="img/blog/2021-01-09/001.jpg" alt="运行工具"></p>
<p>然后在打开的命令行工具里输入 <code>ipconfig</code></p>
<p><img src="img/blog/2021-01-09/002.jpg" alt="命令行"></p>
<p>回车之后就可以看到 <code>IPv4地址</code>，这个就是我们自己电脑的内网IP地址了</p>
<p><img src="img/blog/2021-01-09/003.jpg" alt="ipconfig"></p>
<h1><a id="Node_27"></a>Node脚本</h1>
<p>为了搭建这样的服务器，我们需要安装两个 NPM package： <code>express</code> 和 <code>serve-index</code></p>
<p>全局安装 <code>express</code></p>
<pre class="hljs"><code>npm install -g express
</code></pre>
<p>全局安装 <code>serve-index</code></p>
<pre class="hljs"><code>npm install -g serve-index
</code></pre>
<p>然后就可以写服务器脚本啦！</p>
<pre class="hljs"><code class="language-JavaScript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">"express"</span>);
<span class="hljs-keyword">var</span> serveIndex = <span class="hljs-built_in">require</span>(<span class="hljs-string">'serve-index'</span>);

<span class="hljs-keyword">var</span> app = express();
<span class="hljs-keyword">var</span> localIp = <span class="hljs-string">"1xx.1xx.1.1xx"</span>;<span class="hljs-comment">// 这里输入你的内网IP</span>

app.use(express.static(__dirname));
app.use(<span class="hljs-string">'/'</span>, serveIndex(__dirname + <span class="hljs-string">'/'</span>));
app.listen(<span class="hljs-number">4000</span>,localIp, () => {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"express server running at "</span> + localIp + <span class="hljs-string">":4000"</span>)
});<span class="hljs-comment">//你要是不想用4000这个端口，也可以用别的数字</span>
</code></pre>
<p>我们可以把这个脚本文件保存为 <code>app.js</code>，然后放在我们想要访问的文件夹下。</p>
<p>然后在这个文件夹地址栏输入 <code>cmd</code> 直接打开命令行，然后输入</p>
<pre class="hljs"><code>node app
</code></pre>
<p>然后这个文件夹就可以在内网访问了</p>
<h1><a id="_69"></a>手机访问电脑文件</h1>
<p>打开手机浏览器，输入内网IP加端口</p>
<pre class="hljs"><code>http://1xx.1xx.1.1xx:4000
</code></pre>
<p>然后你要访问的文件夹目录就出现了</p>
<p><img src="img/blog/2021-01-09/004.jpg" alt="手机浏览器访问"></p>
<p>文件夹可以点进去，文件也可以直接访问。</p>
<p>经过测试，<code>.txt</code>、 <code>.md</code>、 <code>.js</code>、 <code>.doc</code>、 <code>.pdf</code>、 <code>.mp4</code>、 <code>.html</code> 这些扩展名的文件可以直接在浏览器内打开，但是 <code>.flv</code>、 <code>.epub</code> 等扩展名的文件则不行，这只能说是我自己手机的限制吧。</p>
</article> <div id="amzn-assoc-ad-51e0e5d0-fdd4-49b3-8945-e3e2f60d21e2"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=51e0e5d0-fdd4-49b3-8945-e3e2f60d21e2"></script> <div class="prev-next"><a href="/blog/panda-remit-review" class="no-decor-link"><div class="prev"><p>上一篇</p></div></a> <a href="/blog/get-pdf-read-aloud-on-edge" class="no-decor-link"><div class="next"><p>下一篇</p></div></a></div> <div><h3 style="text-align:center"><span style="border-bottom:2px solid #000">相关文章</span></h3> <div class="blog-gallery"><div class="blog-gallery-unit"><a href="/blog/filmora" title="我发现自己的电脑是地狱配置之后，竟然还找到了勉强能用的视频剪辑软件，真的要给万兴喵影点个赞。" class="no-decor-link"><div class="blog-gallery-inner align-left"><h4>低配电脑能用什么视频剪辑软件</h4> <p class="blog-date"><span class="fa fa-calendar">
               2020-10-04
            </span></p> <p class="align-left"><span class="blog-gallery-desc">我发现自己的电脑是地狱配置之后，竟然还找到了勉强能用的视频剪辑软件，真的要给万兴喵影点个赞。</span> <br> <span class="align-left"><span class="blog-gallery-tag">
                中文
              </span><span class="blog-gallery-tag">
                技术
              </span><span class="blog-gallery-tag">
                万兴喵影
              </span><span class="blog-gallery-tag">
                Filmora
              </span></span></p></div></a></div><div class="blog-gallery-unit"><a href="/blog/editor-for-my-cms-of-my-nuxt-blog" title="April CMS，一个兼具Headless CMS和Flat File CMS的特征的操作文本文件的基于API提供内容的CMS，很实用的一个项目哦~" class="no-decor-link"><div class="blog-gallery-inner align-left"><h4>给Nuxt使用的基于API的CMS——还有管理后台呢</h4> <p class="blog-date"><span class="fa fa-calendar">
               2020-04-19
            </span></p> <p class="align-left"><span class="blog-gallery-desc">April CMS，一个兼具Headless CMS和Flat File CMS的特征的操作文本文件的基于API提供内容的CMS，很实用的一个项目哦~</span> <br> <span class="align-left"><span class="blog-gallery-tag">
                中文
              </span><span class="blog-gallery-tag">
                我的项目
              </span><span class="blog-gallery-tag">
                JavaScript
              </span><span class="blog-gallery-tag">
                Node.js
              </span><span class="blog-gallery-tag">
                jQuery
              </span><span class="blog-gallery-tag">
                技术
              </span></span></p></div></a></div><div class="blog-gallery-unit"><a href="/blog/nuxt-blog-static-website" title="重构了一下博客，从Jekyll迁移到了Nuxt。方法是先用Node API 来解析 Markdown 文件，然后 Nuxt+Axios 获取 API 返回的文章内容并生成静态页面。" class="no-decor-link"><div class="blog-gallery-inner align-left"><h4>如何使用Nuxt建立个人博客</h4> <p class="blog-date"><span class="fa fa-calendar">
               2019-05-05
            </span></p> <p class="align-left"><span class="blog-gallery-desc">重构了一下博客，从Jekyll迁移到了Nuxt。方法是先用Node API 来解析 Markdown 文件，然后 Nuxt+Axios 获取 API 返回的文章内容并生成静态页面。</span> <br> <span class="align-left"><span class="blog-gallery-tag">
                中文
              </span><span class="blog-gallery-tag">
                我的项目
              </span><span class="blog-gallery-tag">
                JavaScript
              </span><span class="blog-gallery-tag">
                Node.js
              </span><span class="blog-gallery-tag">
                Nuxt.js
              </span><span class="blog-gallery-tag">
                静态博客
              </span><span class="blog-gallery-tag">
                技术
              </span></span></p></div></a></div></div></div> <div id="comment"></div></section></div></main> <footer><p>Created with Nuxt.js <br>
    	Designed by  
    	<a href="https://github.com/c53hzn" target="_blank" class="no-decor-link"><strong>Jenny HOU</strong> <i class="fa fa-github font-20"></i></a></p> <div class="go-top go-top-hidden"><div class="arrow"></div> <div class="stick"></div></div></footer></div></div></div><script>window.__NUXT__=function(e,s,a,n,p,o,l,t,r,c,i,d){return i[0]=a,i[1]=s,i[2]=n,i[3]="Express.js",{layout:"blog",data:[{relatedBlog:[{layout:e,title:"低配电脑能用什么视频剪辑软件",description:"我发现自己的电脑是地狱配置之后，竟然还找到了勉强能用的视频剪辑软件，真的要给万兴喵影点个赞。",tags:[a,s,"万兴喵影","Filmora"],comments:!0,related_blog:[t,"2018-11-18-minesweeper","2017-05-28-hao123-issue"],slug:p,date:"2020-10-04",prev:"online-research",next:"bag-research"},{layout:e,title:"给Nuxt使用的基于API的CMS——还有管理后台呢",description:"April CMS，一个兼具Headless CMS和Flat File CMS的特征的操作文本文件的基于API提供内容的CMS，很实用的一个项目哦~",tags:[a,d,l,n,"jQuery",s],comments:!0,related_blog:["2020-01-31-summary-of-my-life-in-2019",t],slug:r,date:"2020-04-19",prev:"script-for-photoshop-bulk-resize-and-watermark-en",next:"editor-for-my-cms-of-my-nuxt-blog-en"},{layout:e,title:"如何使用Nuxt建立个人博客",description:"重构了一下博客，从Jekyll迁移到了Nuxt。方法是先用Node API 来解析 Markdown 文件，然后 Nuxt+Axios 获取 API 返回的文章内容并生成静态页面。",tags:[a,d,l,n,"Nuxt.js","静态博客",s],comments:!0,related_blog:["2020-04-19-editor-for-my-cms-of-my-nuxt-blog","2019-05-18-lighten-nuxt-website","2018-03-28-jekyll-blog-static-website"],slug:c,date:"2019-05-05",prev:"memories-of-the-alhambra-n-feel-good-to-die",next:"lighten-nuxt-website"}],baseURL:"/",ui_str_zh:{to_prev:"上一篇",to_next:"下一篇",related_posts:"相关文章"},ui_str_en:{to_prev:"Previous",to_next:"Next",related_posts:"Related Posts"},blog:{layout:e,title:"如何用手机查看局域网内Express主机上的文件",description:"用电脑搭建Express服务器，然后手机直接看电脑上的文件和视频，好像挺有意思的？",tags:i,comments:!0,related_blog:[p,r,c],slug:"view-pc-files-from-mobile-via-express-server",date:o,content:'<p><h3> </h3><ul><li><a href="#_1">契机</a></li><li><a href="#IP_13">查看本机内网IP</a></li><li><a href="#Node_27">Node脚本</a></li><li><a href="#_69">手机访问电脑文件</a></li></ul></p>\n<h1><a id="_1"></a>契机</h1>\n<p>我电脑上有些TXT小说文件和视频文件，虽然开着电脑的时候查看也不麻烦，但是大冬天的还是想裹着被子刷手机，如果能有办法手机直接在线访问电脑上的文件，而不需要进行繁复的文件转移过程，那该多好啊！</p>\n<p>然后我想到可以在电脑上搭建Express服务器，然后允许访问静态文件，再用手机在线访问，不就可以了嘛！</p>\n<p>平时搭建服务的时候都是直接电脑上访问，而即使连了同一个路由器，手机也无法直接访问localhost，于是搜了一下，发现需要在服务器上配置内网IP，好像也不难。</p>\n<p>下一个问题来了，搭建Express服务器是简单，但是怎么才能直接显示文件夹内的文件目录呢？于是搜了下NPM，果然有这样的package！</p>\n<p>我想到的问题前人都想到了，那就直接拿来用吧！</p>\n<h1><a id="IP_13"></a>查看本机内网IP</h1>\n<p>使用快捷键 <code>Windows + R</code>，打开【运行】，输入 <code>cmd</code> 并确定</p>\n<p><img src="img/blog/2021-01-09/001.jpg" alt="运行工具"></p>\n<p>然后在打开的命令行工具里输入 <code>ipconfig</code></p>\n<p><img src="img/blog/2021-01-09/002.jpg" alt="命令行"></p>\n<p>回车之后就可以看到 <code>IPv4地址</code>，这个就是我们自己电脑的内网IP地址了</p>\n<p><img src="img/blog/2021-01-09/003.jpg" alt="ipconfig"></p>\n<h1><a id="Node_27"></a>Node脚本</h1>\n<p>为了搭建这样的服务器，我们需要安装两个 NPM package： <code>express</code> 和 <code>serve-index</code></p>\n<p>全局安装 <code>express</code></p>\n<pre class=\'hljs\'><code>npm install -g express\n</code></pre>\n<p>全局安装 <code>serve-index</code></p>\n<pre class=\'hljs\'><code>npm install -g serve-index\n</code></pre>\n<p>然后就可以写服务器脚本啦！</p>\n<pre class=\'hljs\'><code class="language-JavaScript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">"express"</span>);\n<span class="hljs-keyword">var</span> serveIndex = <span class="hljs-built_in">require</span>(<span class="hljs-string">\'serve-index\'</span>);\n\n<span class="hljs-keyword">var</span> app = express();\n<span class="hljs-keyword">var</span> localIp = <span class="hljs-string">"1xx.1xx.1.1xx"</span>;<span class="hljs-comment">// 这里输入你的内网IP</span>\n\napp.use(express.static(__dirname));\napp.use(<span class="hljs-string">\'/\'</span>, serveIndex(__dirname + <span class="hljs-string">\'/\'</span>));\napp.listen(<span class="hljs-number">4000</span>,localIp, () =&gt; {\n  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"express server running at "</span> + localIp + <span class="hljs-string">":4000"</span>)\n});<span class="hljs-comment">//你要是不想用4000这个端口，也可以用别的数字</span>\n</code></pre>\n<p>我们可以把这个脚本文件保存为 <code>app.js</code>，然后放在我们想要访问的文件夹下。</p>\n<p>然后在这个文件夹地址栏输入 <code>cmd</code> 直接打开命令行，然后输入</p>\n<pre class=\'hljs\'><code>node app\n</code></pre>\n<p>然后这个文件夹就可以在内网访问了</p>\n<h1><a id="_69"></a>手机访问电脑文件</h1>\n<p>打开手机浏览器，输入内网IP加端口</p>\n<pre class=\'hljs\'><code>http://1xx.1xx.1.1xx:4000\n</code></pre>\n<p>然后你要访问的文件夹目录就出现了</p>\n<p><img src="img/blog/2021-01-09/004.jpg" alt="手机浏览器访问"></p>\n<p>文件夹可以点进去，文件也可以直接访问。</p>\n<p>经过测试，<code>.txt</code>、 <code>.md</code>、 <code>.js</code>、 <code>.doc</code>、 <code>.pdf</code>、 <code>.mp4</code>、 <code>.html</code> 这些扩展名的文件可以直接在浏览器内打开，但是 <code>.flv</code>、 <code>.epub</code> 等扩展名的文件则不行，这只能说是我自己手机的限制吧。</p>\n',prev:"panda-remit-review",next:"get-pdf-read-aloud-on-edge"},tags:i,date:o}],fetch:[],error:null,state:{lang:{val:"Chi",ui:"English",title:"Change navigation to English"}},serverRendered:!0,routePath:"/blog/view-pc-files-from-mobile-via-express-server"}}("post","技术","中文","Node.js","filmora","2021-01-09","JavaScript","2019-05-05-nuxt-blog-static-website","editor-for-my-cms-of-my-nuxt-blog","nuxt-blog-static-website",Array(4),"我的项目")</script><script src="/_nuxt/0109b093b32bbe681dcb.js" defer></script><script src="/_nuxt/7c82ebcda90129e59b83.js" defer></script><script src="/_nuxt/8c2350c4dfed45e215a8.js" defer></script><script src="/_nuxt/c4b816bfcec5991a02bc.js" defer></script>
  </body>
</html>
